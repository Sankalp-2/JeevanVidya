let pointerNumber=0;function startTour(o){moTour.tourData&&(Object.keys(moTour.currentPage).length>1||($mo("#moblock").show(),createCard(o)))}function createCard(o){let t=moTour.tourData[o];if(!$mo("#"+t.targetE).is(":visible")&&(0!=o||""!=t.targetE)){if(o++,!moTour.tourData[o]||!$mo("#"+t.targetE).is(":visible"))return resetTour(),void tourComplete();createCard(o)}let e='<div id="mo-card" class="mo-card mo-'+t.cardSize+'"><div class="mo-tour-arrow mo-point-'+t.pointToSide+'"><i style="color:#ffffff;position: relative;" class=" mo-dashicons dashicons dashicons-arrow-'+t.pointToSide+'"></i></div><div class="mo-tour-content-area mo-point-'+t.pointToSide+'"><div class="mo-tour-title">'+t.titleHTML+'</div><div class="mo-tour-content">'+t.contentHTML+"</div><img "+(t.img?"":"hidden")+' src="'+t.img+'" alt=""> <div class="mo-tour-button-area"></div><div hidden class="mo-tour-card-bottom"></div></div></div>',r='<input type="button"  class="mo-tour-button mo-tour-primary-btn" value="'+t.buttonText+'">';$mo("#moblock").empty(),$mo(e).insertAfter("#moblock"),$mo(".mo-tour-button-area").append('<input type="button"  class="mo-tour-button mo-skip-btn" value="Skip Tour">'),$mo(".mo-tour-button-area").append(r),""!=t.pointToSide&&"center"!=t.pointToSide||$mo(".mo-card").attr("style","box-shadow:0px 0px 0px 3px #979393"),t.targetE&&getPointerPosition(t.targetE,t.pointToSide),$mo(".mo-tour-primary-btn").click(function(){$mo(".mo-target-index").removeClass("mo-target-index"),$mo(".mo-card").remove(),o+=1,moTour.tourData[o]?createCard(o):(resetTour(),tourComplete())}),$mo(".mo-skip-btn").click(function(){$mo(".mo-target-index").removeClass("mo-target-index"),$mo(".mo-card").remove(),resetTour(),tourComplete()})}function getPointerPosition(o,t){let e,r,i=document.getElementById(o).getBoundingClientRect(),n=document.getElementById("mo-card").getBoundingClientRect();switch(t){case"up":e=i.left+(i.width-n.width)/2,r=i.top+i.height+5;break;case"down":e=i.left+(i.width-n.width)/2,r=i.top-n.height;break;case"left":e=i.left+i.width,r=i.top+(i.height-n.height)/2;break;case"right":e=i.left-n.width,r=i.top+(i.height-n.height)/2}r<0&&($mo(".mo-tour-arrow>i").css("top","calc(50% - 0.6em + "+r+"px)"),r=0),$mo(".mo-card").css({top:r+$mo(window).scrollTop()-25,left:e+$mo(window).scrollLeft()-180,"margin-top":"0","margin-left":"0",position:"absolute"}),$mo("#"+o).addClass("mo-target-index"),document.getElementById(o).scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}function resetTour(){pointerNumber=0,$mo("#moblock").hide()}function tourComplete(){$mo.ajax({url:moTour.siteURL,type:"POST",data:{doneTour:!0,pageID:moTour.pageID,security:moTour.tnonce,action:moTour.ajaxAction},crossDomain:!0,dataType:"json"})}$mo=jQuery,$mo(window).load(function(){moTour.tourTaken||startTour(pointerNumber),$mo("#restart_tour_button").click(function(){resetTour(),startTour(pointerNumber)})});